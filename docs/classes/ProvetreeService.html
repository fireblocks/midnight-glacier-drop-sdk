<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ProvetreeService | midnight-drop-fireblocks-sdk</title><meta name="description" content="Documentation for midnight-drop-fireblocks-sdk"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">midnight-drop-fireblocks-sdk</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">ProvetreeService</a></li></ul><h1>Class ProvetreeService</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Service for interacting with the Midnight Provetree API.</p>
<p>Provetree is a verification system that manages address allocations and cryptographic
proofs for the Midnight blockchain ecosystem. This service provides methods to:</p>
<ul>
<li>Check if addresses have allocations across different blockchains</li>
<li>Retrieve cryptographic proof data for verified addresses</li>
<li>Validate address eligibility for NIGHT token claims</li>
</ul>
<p>The service handles blockchain-specific API endpoints and authentication requirements,
including special handling for XRP (Ripple) addresses which use different endpoint paths.</p>
<p>ProvetreeService</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">provetreeService</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ProvetreeService</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Check Cardano address allocation</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cardanoAllocation</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">provetreeService</span><span class="hl-1">.</span><span class="hl-0">checkAddressAllocation</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qx2kd88w9p6m7c8xc6qzn2g3vxy9wjsa9fkw32ylm9z8r3qp4c5tc&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">CARDANO</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-4">cardanoAllocation</span><span class="hl-1"> &gt; </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Address has </span><span class="hl-5">${</span><span class="hl-4">cardanoAllocation</span><span class="hl-5">}</span><span class="hl-2"> allocation`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Get proof data with authentication</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">proofData</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">provetreeService</span><span class="hl-1">.</span><span class="hl-0">getProofData</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;your-api-key&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;addr1qx...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">blockchain:</span><span class="hl-1"> </span><span class="hl-2">&#39;CARDANO&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Proof:&#39;</span><span class="hl-1">, </span><span class="hl-4">proofData</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/fireblocks/midnight-glacier-drop-sdk/blob/ea74eab342873e998a52b31619528b11b4392f7f/src/services/provetree.service.ts#L45">src/services/provetree.service.ts:45</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#checkaddressallocation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>check<wbr/>Address<wbr/>Allocation</span></a>
<a href="#getproofdata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Proof<wbr/>Data</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorprovetreeservice"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">ProvetreeService</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">ProvetreeService</a><a href="#constructorprovetreeservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">ProvetreeService</a></h4></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="checkaddressallocation"><span>check<wbr/>Address<wbr/>Allocation</span><a href="#checkaddressallocation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="checkaddressallocation-1"><span class="tsd-kind-call-signature">checkAddressAllocation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">blockchainId</span><span class="tsd-signature-symbol">:</span> <a href="../enums/SupportedBlockchains.html" class="tsd-signature-type tsd-kind-enum">SupportedBlockchains</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#checkaddressallocation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Checks the allocation value for a blockchain address via the Provetree API.</p>
<p>This method queries the Provetree verification system to determine if an address
has an allocation for NIGHT token claims. The allocation value indicates the
amount or eligibility status of the address for claiming tokens.</p>
<p>Special handling is implemented for XRP addresses, which use a different API
endpoint path (&quot;/check/ripple/&quot;) compared to other blockchains (&quot;/check/{chain}/&quot;).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The blockchain address to verify (format depends on blockchain)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">blockchainId</span>: <a href="../enums/SupportedBlockchains.html" class="tsd-signature-type tsd-kind-enum">SupportedBlockchains</a></span><div class="tsd-comment tsd-typography"><p>The blockchain network identifier</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise resolving to a number representing the allocation value:</p>
<ul>
<li>0: No allocation exists for this address</li>
<li>
<blockquote>
<p>0: Allocation amount or eligibility value</p>
</blockquote>
</li>
</ul>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the API request fails</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-1">Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the API returns a non-200 status code</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-2">Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When network connectivity issues occur</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-3">Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the address format is invalid for the specified blockchain</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">service</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ProvetreeService</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Check Cardano address</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cardanoAllocation</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">checkAddressAllocation</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qx2kd88w9p6m7c8xc6qzn2g3vxy9wjsa9fkw32ylm9z8r3qp4c5tc&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">CARDANO</span><br/><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Cardano allocation:&#39;</span><span class="hl-1">, </span><span class="hl-4">cardanoAllocation</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Check Ethereum address</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">ethAllocation</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">checkAddressAllocation</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">ETHEREUM</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Check XRP address (uses special &#39;ripple&#39; endpoint)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">xrpAllocation</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">checkAddressAllocation</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;rN7n7otQDd6FczFgLdlqtyMVrn3HMzve32&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">XRP</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Check Bitcoin address</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">btcAllocation</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">checkAddressAllocation</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">BITCOIN</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Handle no allocation</span><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-4">cardanoAllocation</span><span class="hl-1"> === </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;This address has no allocation&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Validate allocation before proceeding with claim</span><br/><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">allocation</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">checkAddressAllocation</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">address</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">chain</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-4">allocation</span><span class="hl-1"> &gt; </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Proceed with claim process</span><br/><span class="hl-1">    </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">claimService</span><span class="hl-1">.</span><span class="hl-0">makeClaims</span><span class="hl-1">(...);</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Address not eligible for claims&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">} </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Allocation check failed:&#39;</span><span class="hl-1">, </span><span class="hl-4">error</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-remarks"><h4 class="tsd-anchor-link" id="remarks">Remarks<a href="#remarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The method uses the configured axiosInstance which includes default timeout
and retry logic for improved reliability.</p>
<p>XRP addresses are routed to &quot;/check/ripple/{address}&quot; instead of
&quot;/check/XRP/{address}&quot; to maintain compatibility with the Provetree API's
naming conventions for Ripple addresses.</p>
<p>The allocation value format and meaning may vary by blockchain and should be
interpreted in the context of the specific claim rules for that network.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/fireblocks/midnight-glacier-drop-sdk/blob/ea74eab342873e998a52b31619528b11b4392f7f/src/services/provetree.service.ts#L133">src/services/provetree.service.ts:133</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getproofdata"><span>get<wbr/>Proof<wbr/>Data</span><a href="#getproofdata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getproofdata-1"><span class="tsd-kind-call-signature">getProofData</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">apiKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">requestData</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><a href="#getproofdata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves cryptographic proof data from the Provetree API with authentication.</p>
<p>This method fetches proof data for verified addresses, which includes cryptographic
proofs that can be used to validate address eligibility and claims. The request
requires API key authentication via a Bearer token.</p>
<p>Proof data typically includes Merkle proofs, signatures, or other cryptographic
evidence that an address is part of a verified allocation set.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">apiKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The API key for authenticating with the Provetree service</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">requestData</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The request payload object containing query parameters such as:</p>
<ul>
<li>address: The blockchain address to get proof for</li>
<li>blockchain: The blockchain identifier</li>
<li>Additional blockchain-specific parameters</li>
</ul>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise resolving to the proof data object containing:</p>
<ul>
<li>Merkle proof components (path, siblings, root hash)</li>
<li>Signature data</li>
<li>Verification metadata</li>
<li>Any additional proof-specific fields</li>
</ul>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-4">Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When authentication fails (invalid or missing API key)</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-5">Throws<a href="#throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the API returns a non-200 status code</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-6">Throws<a href="#throws-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the request payload is malformed</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-7">Throws<a href="#throws-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When network connectivity issues occur</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-8">Throws<a href="#throws-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the specified address has no proof data available</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">service</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ProvetreeService</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Basic proof data request</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">proofData</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">getProofData</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-8">PROVETREE_API_KEY</span><span class="hl-1">!,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;addr1qx2kd88w9p6m7c8xc6qzn2g3vxy9wjsa9fkw32ylm9z8r3qp4c5tc&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">blockchain:</span><span class="hl-1"> </span><span class="hl-2">&#39;CARDANO&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Merkle root:&#39;</span><span class="hl-1">, </span><span class="hl-4">proofData</span><span class="hl-1">.</span><span class="hl-4">merkleRoot</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Proof path:&#39;</span><span class="hl-1">, </span><span class="hl-4">proofData</span><span class="hl-1">.</span><span class="hl-4">proof</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Request with additional parameters</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">detailedProof</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">getProofData</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">apiKey</span><span class="hl-1">,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">blockchain:</span><span class="hl-1"> </span><span class="hl-2">&#39;ETHEREUM&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">includeSignature:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-4">Date</span><span class="hl-1">.</span><span class="hl-0">now</span><span class="hl-1">()</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Use proof data for verification</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">proof</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">getProofData</span><span class="hl-1">(</span><span class="hl-4">apiKey</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">address:</span><span class="hl-1"> </span><span class="hl-4">cardanoAddress</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">blockchain:</span><span class="hl-1"> </span><span class="hl-2">&#39;CARDANO&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Verify the proof locally</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">isValid</span><span class="hl-1"> = </span><span class="hl-0">verifyMerkleProof</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">proof</span><span class="hl-1">.</span><span class="hl-4">proof</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">proof</span><span class="hl-1">.</span><span class="hl-4">leaf</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">proof</span><span class="hl-1">.</span><span class="hl-4">merkleRoot</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-4">isValid</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Proof verified successfully&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">// Proceed with claim submission</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Handle authentication errors</span><br/><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">proof</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">getProofData</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;invalid-key&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">requestData</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">} </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">response</span><span class="hl-1">?.</span><span class="hl-4">status</span><span class="hl-1"> === </span><span class="hl-9">401</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid API key&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-remarks"><h4 class="tsd-anchor-link" id="remarks-1">Remarks<a href="#remarks-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The API key should be kept secure and not exposed in client-side code.
Store it in environment variables or secure configuration management systems.</p>
<p>The requestData structure and proof data format may vary depending on the
blockchain and Provetree API version. Consult the Provetree API documentation
for the latest schema requirements.</p>
<p>The method uses POST instead of GET to allow for complex request payloads and
to keep sensitive data out of URL parameters.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/fireblocks/midnight-glacier-drop-sdk/blob/ea74eab342873e998a52b31619528b11b4392f7f/src/services/provetree.service.ts#L262">src/services/provetree.service.ts:262</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#checkaddressallocation"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>check<wbr/>Address<wbr/>Allocation</span></a><a href="#getproofdata"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Proof<wbr/>Data</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">midnight-drop-fireblocks-sdk</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
