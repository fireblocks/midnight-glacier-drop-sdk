<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ClaimApiService | midnight-drop-fireblocks-sdk</title><meta name="description" content="Documentation for midnight-drop-fireblocks-sdk"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">midnight-drop-fireblocks-sdk</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">ClaimApiService</a></li></ul><h1>Class ClaimApiService</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Service for interacting with the Midnight Claims API.</p>
<p>This service provides methods for querying claim history and creating new claims
across multiple supported blockchains. It handles the blockchain-specific signature
formats and request structures required by the Midnight API, including:</p>
<ul>
<li>COSE_Sign1 formatting for Cardano</li>
<li>Standard signature handling for EVM chains, Bitcoin, Solana, etc.</li>
<li>XRP-specific signature with public key requirements</li>
</ul>
<p>The service integrates with Fireblocks-signed messages and transforms them into
the appropriate format for each blockchain's claim submission requirements.</p>
<p>ClaimApiService</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">claimService</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ClaimApiService</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Get claims history</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">history</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">claimService</span><span class="hl-1">.</span><span class="hl-0">getClaimsHistory</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">CARDANO</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qx...&#39;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Found </span><span class="hl-5">${</span><span class="hl-4">history</span><span class="hl-14">.</span><span class="hl-4">length</span><span class="hl-5">}</span><span class="hl-2"> claims`</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Submit a new claim</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">claims</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">claimService</span><span class="hl-1">.</span><span class="hl-0">makeClaims</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">CARDANO</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qx...&#39;</span><span class="hl-1">,              </span><span class="hl-3">// origin address</span><br/><span class="hl-1">  </span><span class="hl-9">1000000</span><span class="hl-1">,                   </span><span class="hl-3">// amount</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;claim-message&#39;</span><span class="hl-1">,           </span><span class="hl-3">// message that was signed</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;82a4...&#39;</span><span class="hl-1">,                 </span><span class="hl-3">// full signature hex</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qy...&#39;</span><span class="hl-1">,              </span><span class="hl-3">// destination address</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;5820a3b4...&#39;</span><span class="hl-1">              </span><span class="hl-3">// public key</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Claim submitted:&#39;</span><span class="hl-1">, </span><span class="hl-4">claims</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/fireblocks/midnight-glacier-drop-sdk/blob/ea74eab342873e998a52b31619528b11b4392f7f/src/services/claim.api.service.ts#L55">src/services/claim.api.service.ts:55</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#getclaimshistory" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Claims<wbr/>History</span></a>
<a href="#makeclaims" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>make<wbr/>Claims</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorclaimapiservice"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">ClaimApiService</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">ClaimApiService</a><a href="#constructorclaimapiservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">ClaimApiService</a></h4></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getclaimshistory"><span>get<wbr/>Claims<wbr/>History</span><a href="#getclaimshistory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getclaimshistory-1"><span class="tsd-kind-call-signature">getClaimsHistory</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">blockchainId</span><span class="tsd-signature-symbol">:</span> <a href="../enums/SupportedBlockchains.html" class="tsd-signature-type tsd-kind-enum">SupportedBlockchains</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/ClaimHistoryResponse.html" class="tsd-signature-type tsd-kind-interface">ClaimHistoryResponse</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getclaimshistory-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves the complete claims history for a specific address on a blockchain.</p>
<p>Queries the Midnight Claims API to fetch all historical claims associated with
the provided address. The response includes details about each claim such as
amounts, timestamps, transaction hashes, and claim status.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">blockchainId</span>: <a href="../enums/SupportedBlockchains.html" class="tsd-signature-type tsd-kind-enum">SupportedBlockchains</a></span><div class="tsd-comment tsd-typography"><p>The blockchain network to query</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The blockchain address to retrieve claims history for</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/ClaimHistoryResponse.html" class="tsd-signature-type tsd-kind-interface">ClaimHistoryResponse</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise resolving to an array of ClaimHistoryResponse objects, each
containing details of a historical claim including:</p>
<ul>
<li>Claim ID and status</li>
<li>Claim amount</li>
<li>Creation and processing timestamps</li>
<li>Associated transaction hashes</li>
<li>Source and destination addresses</li>
</ul>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When API returns a non-200 status code</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-1">Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When network errors or other issues occur during the request</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">service</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ClaimApiService</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Get Cardano claims history</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cardanoClaims</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">getClaimsHistory</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">CARDANO</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qx2kd88w9p6m7c8xc6qzn2g3vxy9wjsa9fkw32ylm9z8r3qp4c5tc&#39;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Total claims: </span><span class="hl-5">${</span><span class="hl-4">cardanoClaims</span><span class="hl-14">.</span><span class="hl-4">length</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-4">cardanoClaims</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-4">claim</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Claim </span><span class="hl-5">${</span><span class="hl-4">claim</span><span class="hl-14">.</span><span class="hl-4">id</span><span class="hl-5">}</span><span class="hl-2">: </span><span class="hl-5">${</span><span class="hl-4">claim</span><span class="hl-14">.</span><span class="hl-4">amount</span><span class="hl-5">}</span><span class="hl-2"> at </span><span class="hl-5">${</span><span class="hl-4">claim</span><span class="hl-14">.</span><span class="hl-4">timestamp</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Get Ethereum claims history</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">ethClaims</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">getClaimsHistory</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">ETHEREUM</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb&#39;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Check if address has any claims</span><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-4">ethClaims</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> === </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;No claims found for this address&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-remarks"><h4 class="tsd-anchor-link" id="remarks">Remarks<a href="#remarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The address parameter is URL-encoded automatically to handle special characters.
The method uses the configured axiosInstance for HTTP requests, which includes
default timeout and retry logic.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/fireblocks/midnight-glacier-drop-sdk/blob/ea74eab342873e998a52b31619528b11b4392f7f/src/services/claim.api.service.ts#L111">src/services/claim.api.service.ts:111</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="makeclaims"><span>make<wbr/>Claims</span><a href="#makeclaims" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="makeclaims-1"><span class="tsd-kind-call-signature">makeClaims</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">chain</span><span class="tsd-signature-symbol">:</span> <a href="../enums/SupportedBlockchains.html" class="tsd-signature-type tsd-kind-enum">SupportedBlockchains</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">originAddress</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">amount</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">message</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">fullSig</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">destinationAddress</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">publicKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/SubmitClaimResponse.html" class="tsd-signature-type tsd-kind-interface">SubmitClaimResponse</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#makeclaims-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Submits a claim transaction to the Midnight Claims API.</p>
<p>This method creates and submits a claim request for NIGHT tokens on the specified
blockchain. It handles the blockchain-specific signature formatting requirements:</p>
<p><strong>Cardano</strong>: Converts the signature to COSE_Sign1 format using CIP-8/30 standard,
includes the public key for verification.</p>
<p><strong>Ethereum/Bitcoin/BNB/Solana/Avalanche/BAT</strong>: Uses standard signature format
with address, amount, destination, and signature fields.</p>
<p><strong>XRP</strong>: Includes both public key and signature in the request payload.</p>
<p>The method constructs the appropriate request payload based on the blockchain type
and submits it to the Claims API for processing.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">chain</span>: <a href="../enums/SupportedBlockchains.html" class="tsd-signature-type tsd-kind-enum">SupportedBlockchains</a></span><div class="tsd-comment tsd-typography"><p>The blockchain network to submit the claim on</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">originAddress</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The address making the claim (must have signed the message)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">amount</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The amount of NIGHT tokens to claim</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">message</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The original message that was signed (used for signature verification)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">fullSig</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The complete signature hex string:</p>
<ul>
<li>For Cardano: MSL signature that will be wrapped in COSE_Sign1</li>
<li>For other chains: Standard hex-encoded signature</li>
</ul>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">destinationAddress</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The address where claimed NIGHT tokens will be sent</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">publicKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The public key corresponding to the signature:</p>
<ul>
<li>Required for Cardano and XRP</li>
<li>Not used for other blockchains</li>
</ul>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/SubmitClaimResponse.html" class="tsd-signature-type tsd-kind-interface">SubmitClaimResponse</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise resolving to an array of SubmitClaimResponse objects containing:</p>
<ul>
<li>Claim ID and status</li>
<li>Transaction hash for on-chain verification</li>
<li>Claimed amount and addresses</li>
<li>Processing timestamps</li>
</ul>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-2">Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the blockchain is not supported</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-3">Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When API returns a non-200 status code</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-4">Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When signature building fails (Cardano COSE_Sign1 construction)</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-5">Throws<a href="#throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When network errors occur during submission</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">service</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ClaimApiService</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Submit Cardano claim</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cardanoClaim</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">makeClaims</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">CARDANO</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qx2kd88w9p6m7c8xc6qzn2g3vxy9wjsa9fkw32ylm9z8r3qp4c5tc&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">1000000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;Midnight claim message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;845846a201276761646472657373...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;addr1qy9prvx8ufwutkwxx9cmmuuajaqmjqwujqlp9d8pvg6gupczjjrx&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;5820a3b4c5d6e7f8...&#39;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Claim submitted:&#39;</span><span class="hl-1">, </span><span class="hl-4">cardanoClaim</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">txHash</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Submit Ethereum claim</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">ethClaim</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">makeClaims</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">ETHEREUM</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">500000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;Midnight claim message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;0x1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;0x8ba1f109551bD432803012645Ac136ddd64DBA72&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;&#39;</span><span class="hl-1"> </span><span class="hl-3">// public key not needed for Ethereum</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Submit XRP claim (requires public key)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">xrpClaim</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">service</span><span class="hl-1">.</span><span class="hl-0">makeClaims</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">SupportedBlockchains</span><span class="hl-1">.</span><span class="hl-8">XRP</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;rN7n7otQDd6FczFgLdlqtyMVrn3HMzve32&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">750000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;Midnight claim message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;3045022100...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;rLHzPsX6oXkzU9rXm85Fy8k3EFCCq4bJkf&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;02a1b2c3d4e5f6...&#39;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-remarks"><h4 class="tsd-anchor-link" id="remarks-1">Remarks<a href="#remarks-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The method constructs different request payloads based on the blockchain:</p>
<ul>
<li>Cardano: Builds COSE_Sign1 structure from the signature</li>
<li>XRP: Includes both pubkey and signature fields</li>
<li>Others: Use standard signature field</li>
</ul>
<p>All requests are sent as arrays to support potential batch claiming in the future,
though currently only single claims are supported per request.</p>
<p>The User-Agent header is set to mimic a browser to avoid potential API restrictions.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/fireblocks/midnight-glacier-drop-sdk/blob/ea74eab342873e998a52b31619528b11b4392f7f/src/services/claim.api.service.ts#L227">src/services/claim.api.service.ts:227</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#getclaimshistory"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Claims<wbr/>History</span></a><a href="#makeclaims"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>make<wbr/>Claims</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">midnight-drop-fireblocks-sdk</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
